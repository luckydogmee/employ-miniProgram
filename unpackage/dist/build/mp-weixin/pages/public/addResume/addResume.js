(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/public/addResume/addResume"],{"5d24":function(e,n,t){"use strict";var a=function(){var e=this,n=e.$createElement;e._self._c},i=[];t.d(n,"a",function(){return a}),t.d(n,"b",function(){return i})},"672d":function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=t("2f62"),i=o(t("27e1")),r=t("debc");function o(e){return e&&e.__esModule?e:{default:e}}function s(e){return l(e)||c(e)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function c(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function l(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.forEach(function(n){f(e,n,t[n])})}return e}function f(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var h=function(){return t.e("components/InputCell/InputCell").then(t.bind(null,"0972"))},g=t("efbd"),m=new i.default,v={data:function(){return{isEdit:!0,loginType:"",avatar:"../../../static/icon/add-avatar.png",avatarWomen:"../../../static/img/avatar-women.png",avatarMen:"../../../static/img/avatar-men.png",changedAvatar:!1,resume:{id:"",name:"",phone:"",gender:"",age:"",educationDegree:"",workExperience:"",university:"",nativePlace:"",intentionalWork:""},pictureArray:["从相册选择","相机拍摄"],pictureIndex:0,genderArray:["男","女"],educationDegreeArray:["高中以下","高中","大专","本科及以上"],workExperienceArray:["一年以下","一年至三年","三年至五年","五年以上"]}},components:{InputCell:h},computed:{genderText:function(){return this.genderArray[this.resume.gender]||""},educationDegreeText:function(){return this.educationDegreeArray[this.resume.educationDegree]||""},workExperienceText:function(){return this.workExperienceArray[this.resume.workExperience]||""}},onLoad:function(n){"false"==n.isEdit&&(this.isEdit=!1),"true"==n.isEdit&&(this.isEdit=!0),this.loginType=e.getStorageSync("loginType"),n.id&&(this.resume.id=n.id,this.getResumeDetail())},methods:d({},(0,a.mapMutations)(["switchTab"]),{getResumeDetail:function(){var n=this;e.showLoading({mask:!0}),m.resumeDetail(this.resume.id).then(function(t){e.hideLoading();var a=t.data,i=a.code,r=a.data,o=a.message;"0"===i?(n.resume=g.pick(r,["id","name","phone","gender","age","educationDegree","workExperience","university","nativePlace","intentionalWork"]),r.avatar?n.avatar=r.avatar:0==r.gender&&(n.avatar=n.avatarMen,n.avatar=n.avatarWomen)):e.showToast({icon:"none",title:o})}).catch(function(n){e.hideLoading(),e.showToast({icon:"none",title:"获取岗位详情失败"})})},chooseImage:function(){if("B"!==this.loginType&&this.isEdit){var n=this;e.chooseImage({count:1,sizeType:"compressed",sourceType:["album","camera"],success:function(e){n.changedAvatar=!0,n.avatar=e.tempFilePaths[0]}})}},genderChange:function(e){this.resume.gender=e.target.value},educationDegreeChange:function(e){this.resume.educationDegree=e.target.value},workExperienceChange:function(e){this.resume.workExperience=e.target.value},nameChange:function(e){this.resume.name=e},ageChange:function(e){this.resume.age=e},phoneChange:function(e){this.resume.phone=e},universityChange:function(e){this.resume.university=e},nativePlaceChange:function(e){this.resume.nativePlace=e},intentionalWorkChange:function(e){this.resume.intentionalWork=e},submit:function(){var n=this;if(""!==n.avatar)if(""!==n.resume.name)if(""!==n.resume.gender)if(""!==n.resume.educationDegree)if(""!==n.resume.phone)if(n.checkPhone(n.resume.phone))if(""!==n.resume.workExperience)if(""!==n.resume.university)if(""!==n.resume.nativePlace)if(""!==n.resume.intentionalWork){e.showLoading({title:"提交中..."});var t=Object.values(this.resume);m.saveResume.apply(m,s(t)).then(function(t){var a=t.data,i=a.code,o=a.message,s=a.data;"0"===i?n.changedAvatar?e.uploadFile({url:r.config.base_url+"/resume/bindingAvatar",filePath:n.avatar,name:"file",formData:{id:s.id},success:function(t){e.hideLoading(),n.showResponse()}}):(e.hideLoading(),n.showResponse()):(e.hideLoading(),e.showToast({icon:"none",title:o}))}).catch(function(n){e.showToast({icon:"none",title:"提交失败，请稍候再试"})})}else n.showMessage("期望工作不能为空");else n.showMessage("籍贯不能为空");else n.showMessage("毕业院校不能为空");else n.showMessage("工作经验不能为空");else n.showMessage("电话输入有误请重新输入！");else n.showMessage("电话不能为空！");else n.showMessage("学历不能为空！");else n.showMessage("性别不能为空！");else n.showMessage("姓名不能为空！");else n.showMessage("头像不能为空！")},showResponse:function(){var n=this;this.resume.id?e.showToast({title:"更新简历成功!"}):e.showToast({title:"新增简历成功!"}),setTimeout(function(){n.switchTab({index:2}),e.reLaunch({url:"../../customer/main/main"})},1500)},showMessage:function(n){e.showToast({title:n,icon:"none"})},isNull:function(e){return null==e||void 0==e||""==e},checkPhone:function(e){var n=/^1(3|4|5|7|8)[0-9]{9}$/,t=n.test(e);return t}})};n.default=v}).call(this,t("543d")["default"])},a8bc:function(e,n,t){},cd52:function(e,n,t){"use strict";t.r(n);var a=t("672d"),i=t.n(a);for(var r in a)"default"!==r&&function(e){t.d(n,e,function(){return a[e]})}(r);n["default"]=i.a},e954:function(e,n,t){"use strict";t.r(n);var a=t("5d24"),i=t("cd52");for(var r in i)"default"!==r&&function(e){t.d(n,e,function(){return i[e]})}(r);t("fe83");var o=t("2877"),s=Object(o["a"])(i["default"],a["a"],a["b"],!1,null,null,null);n["default"]=s.exports},edb2:function(e,n,t){"use strict";(function(e){t("1833"),t("921b");a(t("66fd"));var n=a(t("e954"));function a(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("543d")["createPage"])},fe83:function(e,n,t){"use strict";var a=t("a8bc"),i=t.n(a);i.a}},[["edb2","common/runtime","common/vendor"]]]);