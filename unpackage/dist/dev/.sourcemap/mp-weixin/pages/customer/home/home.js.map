{"version":3,"sources":["webpack:///E:/workspace/employ-miniProgram/pages/customer/home/home.vue?7b93","webpack:///E:/workspace/employ-miniProgram/pages/customer/home/home.vue?b26a","webpack:///E:/workspace/employ-miniProgram/pages/customer/home/home.vue?3c84","webpack:///E:/workspace/employ-miniProgram/pages/customer/home/home.vue?5d41","webpack:///E:/workspace/employ-miniProgram/pages/customer/home/home.vue"],"names":["userModel","UserModel","postModel","PostModel","data","background","indicatorDots","autoplay","interval","duration","postList","pageNum","pageSize","keyword","label","components","ListItem","uniPopup","created","getPostList","then","res","code","message","console","log","uni","showToast","icon","title","catch","err","methods","chooseImage","success","tempFilePath","tempFilePaths","uploadFile","url","filePath","name","formData","uploadFileRes","getUserInfo","e","getPhoneNumber","detail","iv","encryptedData","errMsg","checkSession","response","showLoading","getBindPhoneNumber","hideLoading","setStorageSync","token","$refs","noticeLogin","close","fail","toRegister","navigateTo","showDetail","id","that","getStorageSync","selectLoginType","login","provider","wxLogin","msg","errMeg","open"],"mappings":"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","file":"pages/customer/home/home.js","sourcesContent":["import { render, staticRenderFns } from \"./home.vue?vue&type=template&id=4f593838&\"\nimport script from \"./home.vue?vue&type=script&lang=js&\"\nexport * from \"./home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./home.scss?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\work\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\work\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('4f593838', component.options)\n    } else {\n      api.reload('4f593838', component.options)\n    }\n    module.hot.accept(\"./home.vue?vue&type=template&id=4f593838&\", function () {\n      api.rerender('4f593838', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"E:/workspace/employ-miniProgram/pages/customer/home/home.vue\"\nexport default component.exports","export * from \"-!D:\\\\work\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\work\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\work\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\work\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\work\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=template&id=4f593838&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!D:\\\\work\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\work\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\work\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\work\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\work\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\work\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\work\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\work\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\work\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\work\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport UserModel from '@/models/user.js'\nimport PostModel from '@/models/post.js'\nimport ListItem from '@/components/ListItem/ListItem.vue'\nimport uniPopup from \"@/components/uni-popup/uni-popup.vue\"\nconst userModel = new UserModel() \nconst postModel = new PostModel()\nexport default {\n\tdata(){\n\t\treturn {\n\t\t\tbackground: ['color1', 'color2', 'color3'],\n\t\t\tindicatorDots: true,\n\t\t\tautoplay: true,\n\t\t\tinterval: 2000,\n\t\t\tduration: 500,\n\t\t\tpostList: [],\n\t\t\tpageNum: 1,\n\t\t\tpageSize: 10,\n\t\t\tkeyword: '',\n\t\t\tlabel:''\n\t\t}\n\t}, \n\tcomponents:{\n\t\tListItem,\n\t\tuniPopup\n\t},\n\tcreated() {\n\t\tpostModel.getPostList(this.pageNum, this.pageSize, this.keyword, this.label).then(res=>{\n\t\t\tconst { code, message, data } = res.data\n\t\t\tif(code === '0'){\n\t\t\t\tthis.postList = data\n\t\t\t\tconsole.log(this.postList)\n\t\t\t}else{\n\t\t\t\tuni.showToast({\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\ttitle: message\n\t\t\t\t})\n\t\t\t}\n\t\t}).catch(err=>{\n\t\t\tuni.showToast({\n\t\t\t\ticon: 'none',\n\t\t\t\ttitle:'获取岗位列表信息失败'\n\t\t\t})\n\t\t})\n\t},\n\tmethods:{\n\t\tchooseImage(){\n\t\t\tuni.chooseImage({\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tconst tempFilePath = res.tempFilePaths\n\t\t\t\t\tuni.uploadFile({\n\t\t\t\t\t\turl:'http://baidu.com',\n\t\t\t\t\t\tfilePath:tempFilePath[0],\n\t\t\t\t\t\tname:'file',\n\t\t\t\t\t\tformData:{\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess(uploadFileRes){\n\t\t\t\t\t\t\tconsole.log(uploadFileRes.data)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tgetUserInfo(e){\n\t\t\tconsole.log(e)\n\t\t},\n\t\tgetPhoneNumber(e){\n\t\t\tconst { iv, encryptedData, errMsg } = e.detail\n\t\t\tif( errMsg !== 'getPhoneNumber:ok' ){\n\t\t\t\tuni.showToast({\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\ttitle:'授权失败，请重新授权'\n\t\t\t\t})\n\t\t\t\treturn \n\t\t\t}\n\t\t\t// 以下执行登录,需要后台提供一个接口\n\t\t\tuni.checkSession({\n\t\t\t\tsuccess(response) {\n\t\t\t\t\tif(response.errMsg === 'checkSession:ok'){\n\t\t\t\t\t\t// 此处执行后台登录过程，由后台得到手机号并与openid绑定，然后返回token\n\t\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\t\ttitle: '登录中，请稍候'\n\t\t\t\t\t\t})\n\t\t\t\t\t\tuserModel.getBindPhoneNumber(encryptedData, iv).then(res=>{\n\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\t// 判断是成功了,在这里判断是否已经绑定手机号，以及是否完善信息，待写\n\t\t\t\t\t\t\tif (res.code === '0') {\n\t\t\t\t\t\t\t\t// 将token存入缓存中\n\t\t\t\t\t\t\t\tuni.setStorageSync('token',res.data.token)\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle:'登录成功'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tthis.$refs.noticeLogin.close()\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\ttitle:'登录失败，请重新授权'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\t\n\t\t\t\t\t\t})\n\t\t\t\t\t}else{\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\ttitle:'获取code失败'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail(err) {\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\ttoRegister(){\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '../../user/register/register',\n\t\t\t})\n\t\t},\n\t\tshowDetail(id){\n\t\t\tconst that = this\n\t\t\tuni.checkSession({\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tconst token = uni.getStorageSync('token')\n\t\t\t\t\tif(!token){\n\t\t\t\t\t\tthat.selectLoginType()\n\t\t\t\t\t}else{\n\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\turl: '../../public/PostDetail/PostDetail'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail(err) {\n\t\t\t\t\tthat.selectLoginType()\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tlogin(){\n\t\t\tuni.login({\n\t\t\t\tprovider: 'weixin',\n\t\t\t\tsuccess(res){\n\t\t\t\t\tif(res.errMsg === 'login:ok'){\n\t\t\t\t\t\t// 执行后台登录\n\t\t\t\t\t\tuserModel.wxLogin({\n\t\t\t\t\t\t\tcode: res.code\n\t\t\t\t\t\t}).then(res=>{\n\t\t\t\t\t\t\tif(res.code === 'success'){\n\t\t\t\t\t\t\t\t// 将返回的token存入本地\n\t\t\t\t\t\t\t\tuni.setStorageSync('token', res.data.token)\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\ttitle: res.msg\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}else{\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\ttitle: res.errMeg\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail(err) {\n\t\t\t\t\tconsole.log(err)\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tselectLoginType(){\n\t\t\tthis.$refs.noticeLogin.open()\n\t\t}\n\t}\n}\n"],"sourceRoot":""}